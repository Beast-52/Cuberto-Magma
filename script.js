let tl=gsap.timeline();function run(){tl.to("#bolt-path",{delay:1,strokeDasharray:600,duration:2}),tl.to("#bolt-rect",{duration:2,y:0}),tl.to(".loader-inner",{scale:0}),tl.repeat(-1),tl.repeatDelay(1)}function loader(){gsap.to(".panel",{y:"-100%",duration:2,stagger:.3}),gsap.to(".loader",{y:"-100%"})}run();const loco=(e=1)=>{gsap.registerPlugin(ScrollTrigger);const s=new LocomotiveScroll({el:document.querySelector("#main"),smooth:!0,inertia:.8,smoothMobile:!0,multiplier:e});s.on("scroll",ScrollTrigger.update),ScrollTrigger.scrollerProxy("#main",{scrollTop(e){return arguments.length?s.scrollTo(e,0,0):s.scroll.instance.scroll.y},getBoundingClientRect:()=>({top:0,left:0,width:window.innerWidth,height:window.innerHeight}),pinType:document.querySelector("#main").style.transform?"transform":"fixed"}),ScrollTrigger.addEventListener("refresh",(()=>s.update())),ScrollTrigger.refresh()};let userAgent=navigator.userAgent.toLowerCase(),isMobile=/iphone|ipad|ipod|android|blackberry|windows phone/i.test(userAgent);isMobile?loco(4):loco();var clutter="";function canvas(){const e=document.querySelector("#page3>canvas"),s=e.getContext("2d");e.width=window.innerWidth,e.height=window.innerHeight,window.addEventListener("resize",(function(){e.width=window.innerWidth,e.height=window.innerHeight,a()}));const t=[],m={frame:1};for(let e=0;e<67;e++){const s=new Image;s.src=(i=e,imageUrls="\n./img/frames00007.webp\n./img/frames00010.webp\n./img/frames00013.webp\n./img/frames00016.webp\n./img/frames00019.webp\n./img/frames00022.webp\n./img/frames00025.webp\n./img/frames00028.webp\n./img/frames00031.webp\n./img/frames00034.webp\n./img/frames00037.webp\n./img/frames00040.webp\n./img/frames00043.webp\n./img/frames00046.webp\n./img/frames00049.webp\n./img/frames00052.webp\n./img/frames00055.webp\n./img/frames00058.webp\n./img/frames00061.webp\n./img/frames00064.webp\n./img/frames00067.webp\n./img/frames00070.webp\n./img/frames00073.webp\n./img/frames00076.webp\n./img/frames00079.webp\n./img/frames00082.webp\n./img/frames00085.webp\n./img/frames00088.webp\n./img/frames00091.webp\n./img/frames00094.webp\n./img/frames00097.webp\n./img/frames00100.webp\n./img/frames00103.webp\n./img/frames00106.webp\n./img/frames00109.webp\n./img/frames00112.webp\n./img/frames00115.webp\n./img/frames00118.webp\n./img/frames00121.webp\n./img/frames00124.webp\n./img/frames00127.webp\n./img/frames00130.webp\n./img/frames00133.webp\n./img/frames00136.webp\n./img/frames00139.webp\n./img/frames00142.webp\n./img/frames00145.webp\n./img/frames00148.webp\n./img/frames00151.webp\n./img/frames00154.webp\n./img/frames00157.webp\n./img/frames00160.webp\n./img/frames00163.webp\n./img/frames00166.webp\n./img/frames00169.webp\n./img/frames00172.webp\n./img/frames00175.webp\n./img/frames00178.webp\n./img/frames00181.webp\n./img/frames00184.webp\n./img/frames00187.webp\n./img/frames00190.webp\n./img/frames00193.webp\n./img/frames00196.webp\n./img/frames00199.webp\n./img/frames00202.webp\n".split("\n")[i]),s.onload=function(){0},t.push(s)}var i;function a(){!function(e,s){var t=s.canvas,m=t.width/e.width,i=t.height/e.height,a=Math.max(m,i),o=(t.width-e.width*a)/2,h=(t.height-e.height*a)/2;s.clearRect(0,0,t.width,t.height),s.drawImage(e,0,0,e.width,e.height,o,h,e.width*a,e.height*a)}(t[m.frame],s)}gsap.to(m,{frame:66,snap:"frame",ease:"none",scrollTrigger:{scrub:.5,trigger:"#page3",start:"top top",end:"250% top",scroller:"#main"},onUpdate:a}),t[1].onload=a,ScrollTrigger.create({trigger:"#page3",pin:!0,scroller:"#main",start:"top top",end:"250% top"})}document.querySelector("#page2>h1").textContent.split(" ").forEach((function(e){clutter+=`<span> ${e} </span>`,document.querySelector("#page2>h1").innerHTML=clutter})),gsap.to("#page2>h1>span",{scrollTrigger:{trigger:"#page2>h1>span",start:"top bottom",end:"bottom top",scroller:"#main",scrub:.5},stagger:.2,color:"white"}),canvas();clutter="";function canvas1(){const e=document.querySelector("#page5>canvas"),s=e.getContext("2d");e.width=window.innerWidth,e.height=window.innerHeight,window.addEventListener("resize",(function(){e.width=window.innerWidth,e.height=window.innerHeight,a()}));const t=[],m={frame:1};for(let e=0;e<67;e++){const s=new Image;s.src=(i=e,"\n./img2/bridges00004.webp\n./img2/bridges00007.webp\n./img2/bridges00010.webp\n./img2/bridges00013.webp\n./img2/bridges00016.webp\n./img2/bridges00019.webp\n./img2/bridges00022.webp\n./img2/bridges00025.webp\n./img2/bridges00028.webp\n./img2/bridges00031.webp\n./img2/bridges00034.webp\n./img2/bridges00037.webp\n./img2/bridges00040.webp\n./img2/bridges00043.webp\n./img2/bridges00046.webp\n./img2/bridges00049.webp\n./img2/bridges00052.webp\n./img2/bridges00055.webp\n./img2/bridges00058.webp\n./img2/bridges00061.webp\n./img2/bridges00064.webp\n./img2/bridges00067.webp\n./img2/bridges00070.webp\n./img2/bridges00073.webp\n./img2/bridges00076.webp\n./img2/bridges00079.webp\n./img2/bridges00082.webp\n./img2/bridges00085.webp\n./img2/bridges00088.webp\n./img2/bridges00091.webp\n./img2/bridges00094.webp\n./img2/bridges00097.webp\n./img2/bridges00100.webp\n./img2/bridges00103.webp\n./img2/bridges00106.webp\n./img2/bridges00109.webp\n./img2/bridges00112.webp\n./img2/bridges00115.webp\n./img2/bridges00118.webp\n./img2/bridges00121.webp\n./img2/bridges00124.webp\n./img2/bridges00127.webp\n./img2/bridges00130.webp\n./img2/bridges00133.webp\n./img2/bridges00136.webp\n./img2/bridges00139.webp\n./img2/bridges00142.webp\n./img2/bridges00145.webp\n./img2/bridges00148.webp\n./img2/bridges00151.webp\n./img2/bridges00154.webp\n./img2/bridges00157.webp\n./img2/bridges00160.webp\n./img2/bridges00163.webp\n./img2/bridges00166.webp\n./img2/bridges00169.webp\n./img2/bridges00172.webp\n./img2/bridges00175.webp\n./img2/bridges00178.webp\n./img2/bridges00181.webp\n./img2/bridges00184.webp\n./img2/bridges00187.webp\n./img2/bridges00190.webp\n./img2/bridges00193.webp\n./img2/bridges00196.webp\n./img2/bridges00199.webp\n./img2/bridges00202.webp\n".split("\n")[i]),t.push(s)}var i;function a(){!function(e,s){var t=s.canvas,m=t.width/e.width,i=t.height/e.height,a=Math.max(m,i),o=(t.width-e.width*a)/2,h=(t.height-e.height*a)/2;s.clearRect(0,0,t.width,t.height),s.drawImage(e,0,0,e.width,e.height,o,h,e.width*a,e.height*a)}(t[m.frame],s)}gsap.to(m,{frame:66,snap:"frame",ease:"none",scrollTrigger:{scrub:.5,trigger:"#page5",start:"top top",end:"250% top",scroller:"#main"},onUpdate:a}),t[1].onload=a,ScrollTrigger.create({trigger:"#page5",pin:!0,scroller:"#main",start:"top top",end:"250% top"})}document.querySelector("#page4>h1").textContent.split(" ").forEach((function(e){clutter+=`<span> ${e} </span>`,document.querySelector("#page4>h1").innerHTML=clutter})),gsap.to("#page4>h1>span",{scrollTrigger:{trigger:"#page4>h1>span",start:"top bottom",end:"bottom top",scroller:"#main",scrub:.5},stagger:.2,color:"white"}),canvas1();clutter="";function canvas2(){const e=document.querySelector("#page7>canvas"),s=e.getContext("2d");e.width=window.innerWidth,e.height=window.innerHeight,window.addEventListener("resize",(function(){e.width=window.innerWidth,e.height=window.innerHeight,a()}));const t=[],m={frame:1};for(let e=0;e<136;e++){const s=new Image;s.src=(i=e,"\n\nhttps://thisismagma.com/assets/home/lore/seq/1.webp?2\nhttps://thisismagma.com/assets/home/lore/seq/2.webp?2\nhttps://thisismagma.com/assets/home/lore/seq/3.webp?2\nhttps://thisismagma.com/assets/home/lore/seq/4.webp?2\nhttps://thisismagma.com/assets/home/lore/seq/5.webp?2\nhttps://thisismagma.com/assets/home/lore/seq/6.webp?2\nhttps://thisismagma.com/assets/home/lore/seq/7.webp?2\nhttps://thisismagma.com/assets/home/lore/seq/8.webp?2\nhttps://thisismagma.com/assets/home/lore/seq/9.webp?2\nhttps://thisismagma.com/assets/home/lore/seq/10.webp?2\nhttps://thisismagma.com/assets/home/lore/seq/11.webp?2\nhttps://thisismagma.com/assets/home/lore/seq/12.webp?2\nhttps://thisismagma.com/assets/home/lore/seq/13.webp?2\nhttps://thisismagma.com/assets/home/lore/seq/14.webp?2\nhttps://thisismagma.com/assets/home/lore/seq/15.webp?2\nhttps://thisismagma.com/assets/home/lore/seq/16.webp?2\nhttps://thisismagma.com/assets/home/lore/seq/17.webp?2\nhttps://thisismagma.com/assets/home/lore/seq/18.webp?2\nhttps://thisismagma.com/assets/home/lore/seq/19.webp?2\nhttps://thisismagma.com/assets/home/lore/seq/20.webp?2\nhttps://thisismagma.com/assets/home/lore/seq/21.webp?2\nhttps://thisismagma.com/assets/home/lore/seq/22.webp?2\nhttps://thisismagma.com/assets/home/lore/seq/23.webp?2\nhttps://thisismagma.com/assets/home/lore/seq/24.webp?2\nhttps://thisismagma.com/assets/home/lore/seq/25.webp?2\nhttps://thisismagma.com/assets/home/lore/seq/26.webp?2\nhttps://thisismagma.com/assets/home/lore/seq/27.webp?2\nhttps://thisismagma.com/assets/home/lore/seq/28.webp?2\nhttps://thisismagma.com/assets/home/lore/seq/29.webp?2\nhttps://thisismagma.com/assets/home/lore/seq/30.webp?2\nhttps://thisismagma.com/assets/home/lore/seq/31.webp?2\nhttps://thisismagma.com/assets/home/lore/seq/32.webp?2\nhttps://thisismagma.com/assets/home/lore/seq/33.webp?2\nhttps://thisismagma.com/assets/home/lore/seq/34.webp?2\nhttps://thisismagma.com/assets/home/lore/seq/35.webp?2\nhttps://thisismagma.com/assets/home/lore/seq/36.webp?2\nhttps://thisismagma.com/assets/home/lore/seq/37.webp?2\nhttps://thisismagma.com/assets/home/lore/seq/38.webp?2\nhttps://thisismagma.com/assets/home/lore/seq/39.webp?2\nhttps://thisismagma.com/assets/home/lore/seq/40.webp?2\nhttps://thisismagma.com/assets/home/lore/seq/41.webp?2\nhttps://thisismagma.com/assets/home/lore/seq/42.webp?2\nhttps://thisismagma.com/assets/home/lore/seq/43.webp?2\nhttps://thisismagma.com/assets/home/lore/seq/44.webp?2\nhttps://thisismagma.com/assets/home/lore/seq/45.webp?2\nhttps://thisismagma.com/assets/home/lore/seq/46.webp?2\nhttps://thisismagma.com/assets/home/lore/seq/47.webp?2\nhttps://thisismagma.com/assets/home/lore/seq/48.webp?2\nhttps://thisismagma.com/assets/home/lore/seq/49.webp?2\nhttps://thisismagma.com/assets/home/lore/seq/50.webp?2\nhttps://thisismagma.com/assets/home/lore/seq/51.webp?2\nhttps://thisismagma.com/assets/home/lore/seq/52.webp?2\nhttps://thisismagma.com/assets/home/lore/seq/53.webp?2\nhttps://thisismagma.com/assets/home/lore/seq/54.webp?2\nhttps://thisismagma.com/assets/home/lore/seq/55.webp?2\nhttps://thisismagma.com/assets/home/lore/seq/56.webp?2\nhttps://thisismagma.com/assets/home/lore/seq/57.webp?2\nhttps://thisismagma.com/assets/home/lore/seq/58.webp?2\nhttps://thisismagma.com/assets/home/lore/seq/59.webp?2\nhttps://thisismagma.com/assets/home/lore/seq/60.webp?2\nhttps://thisismagma.com/assets/home/lore/seq/61.webp?2\nhttps://thisismagma.com/assets/home/lore/seq/62.webp?2\nhttps://thisismagma.com/assets/home/lore/seq/63.webp?2\nhttps://thisismagma.com/assets/home/lore/seq/64.webp?2\nhttps://thisismagma.com/assets/home/lore/seq/65.webp?2\nhttps://thisismagma.com/assets/home/lore/seq/66.webp?2\nhttps://thisismagma.com/assets/home/lore/seq/67.webp?2\nhttps://thisismagma.com/assets/home/lore/seq/68.webp?2\nhttps://thisismagma.com/assets/home/lore/seq/69.webp?2\nhttps://thisismagma.com/assets/home/lore/seq/70.webp?2\nhttps://thisismagma.com/assets/home/lore/seq/71.webp?2\nhttps://thisismagma.com/assets/home/lore/seq/72.webp?2\nhttps://thisismagma.com/assets/home/lore/seq/73.webp?2\nhttps://thisismagma.com/assets/home/lore/seq/74.webp?2\nhttps://thisismagma.com/assets/home/lore/seq/75.webp?2\nhttps://thisismagma.com/assets/home/lore/seq/76.webp?2\nhttps://thisismagma.com/assets/home/lore/seq/77.webp?2\nhttps://thisismagma.com/assets/home/lore/seq/78.webp?2\nhttps://thisismagma.com/assets/home/lore/seq/79.webp?2\nhttps://thisismagma.com/assets/home/lore/seq/80.webp?2\nhttps://thisismagma.com/assets/home/lore/seq/81.webp?2\nhttps://thisismagma.com/assets/home/lore/seq/82.webp?2\nhttps://thisismagma.com/assets/home/lore/seq/83.webp?2\nhttps://thisismagma.com/assets/home/lore/seq/84.webp?2\nhttps://thisismagma.com/assets/home/lore/seq/85.webp?2\nhttps://thisismagma.com/assets/home/lore/seq/86.webp?2\nhttps://thisismagma.com/assets/home/lore/seq/87.webp?2\nhttps://thisismagma.com/assets/home/lore/seq/88.webp?2\nhttps://thisismagma.com/assets/home/lore/seq/89.webp?2\nhttps://thisismagma.com/assets/home/lore/seq/90.webp?2\nhttps://thisismagma.com/assets/home/lore/seq/91.webp?2\nhttps://thisismagma.com/assets/home/lore/seq/92.webp?2\nhttps://thisismagma.com/assets/home/lore/seq/93.webp?2\nhttps://thisismagma.com/assets/home/lore/seq/94.webp?2\nhttps://thisismagma.com/assets/home/lore/seq/95.webp?2\nhttps://thisismagma.com/assets/home/lore/seq/96.webp?2\nhttps://thisismagma.com/assets/home/lore/seq/97.webp?2\nhttps://thisismagma.com/assets/home/lore/seq/98.webp?2\nhttps://thisismagma.com/assets/home/lore/seq/99.webp?2\nhttps://thisismagma.com/assets/home/lore/seq/100.webp?2\nhttps://thisismagma.com/assets/home/lore/seq/101.webp?2\nhttps://thisismagma.com/assets/home/lore/seq/102.webp?2\nhttps://thisismagma.com/assets/home/lore/seq/103.webp?2\nhttps://thisismagma.com/assets/home/lore/seq/104.webp?2\nhttps://thisismagma.com/assets/home/lore/seq/105.webp?2\nhttps://thisismagma.com/assets/home/lore/seq/106.webp?2\nhttps://thisismagma.com/assets/home/lore/seq/107.webp?2\nhttps://thisismagma.com/assets/home/lore/seq/108.webp?2\nhttps://thisismagma.com/assets/home/lore/seq/109.webp?2\nhttps://thisismagma.com/assets/home/lore/seq/110.webp?2\nhttps://thisismagma.com/assets/home/lore/seq/111.webp?2\nhttps://thisismagma.com/assets/home/lore/seq/112.webp?2\nhttps://thisismagma.com/assets/home/lore/seq/113.webp?2\nhttps://thisismagma.com/assets/home/lore/seq/114.webp?2\nhttps://thisismagma.com/assets/home/lore/seq/115.webp?2\nhttps://thisismagma.com/assets/home/lore/seq/116.webp?2\nhttps://thisismagma.com/assets/home/lore/seq/117.webp?2\nhttps://thisismagma.com/assets/home/lore/seq/118.webp?2\nhttps://thisismagma.com/assets/home/lore/seq/119.webp?2\nhttps://thisismagma.com/assets/home/lore/seq/120.webp?2\nhttps://thisismagma.com/assets/home/lore/seq/121.webp?2\nhttps://thisismagma.com/assets/home/lore/seq/122.webp?2\nhttps://thisismagma.com/assets/home/lore/seq/123.webp?2\nhttps://thisismagma.com/assets/home/lore/seq/124.webp?2\nhttps://thisismagma.com/assets/home/lore/seq/125.webp?2\nhttps://thisismagma.com/assets/home/lore/seq/126.webp?2\nhttps://thisismagma.com/assets/home/lore/seq/127.webp?2\nhttps://thisismagma.com/assets/home/lore/seq/128.webp?2\nhttps://thisismagma.com/assets/home/lore/seq/129.webp?2\nhttps://thisismagma.com/assets/home/lore/seq/130.webp?2\nhttps://thisismagma.com/assets/home/lore/seq/131.webp?2\nhttps://thisismagma.com/assets/home/lore/seq/132.webp?2\nhttps://thisismagma.com/assets/home/lore/seq/133.webp?2\nhttps://thisismagma.com/assets/home/lore/seq/134.webp?2\nhttps://thisismagma.com/assets/home/lore/seq/135.webp?2\nhttps://thisismagma.com/assets/home/lore/seq/136.webp?2\n\n".split("\n")[i]),t.push(s)}var i;function a(){!function(e,s){var t=s.canvas,m=t.width/e.width,i=t.height/e.height,a=Math.max(m,i),o=(t.width-e.width*a)/2,h=(t.height-e.height*a)/2;s.clearRect(0,0,t.width,t.height),s.drawImage(e,0,0,e.width,e.height,o,h,e.width*a,e.height*a)}(t[m.frame],s)}gsap.to(m,{frame:135,snap:"frame",ease:"none",scrollTrigger:{scrub:.5,trigger:"#page7",start:"top top",end:"250% top",scroller:"#main"},onUpdate:a}),t[1].onload=a,ScrollTrigger.create({trigger:"#page7",pin:!0,scroller:"#main",start:"top top",end:"250% top"})}document.querySelector("#page6>h1").textContent.split(" ").forEach((function(e){clutter+=`<span> ${e} </span>`,document.querySelector("#page6>h1").innerHTML=clutter})),gsap.to("#page6>h1>span",{scrollTrigger:{trigger:"#page6>h1>span",start:"top bottom",end:"bottom top",scroller:"#main",scrub:.5},stagger:.2,color:"white"}),canvas2(),gsap.to(".page7-cir",{scrollTrigger:{trigger:".page7-cir",start:"top center",end:"bottom top",scroller:"#main",scrub:.5},scale:1.5}),gsap.to(".page7-cir-inner",{scrollTrigger:{trigger:".page7-cir-inner",start:"top center",end:"bottom top",scroller:"#main",scrub:.5},backgroundColor:"#0a3bce91"});
